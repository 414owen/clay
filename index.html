<!doctype html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta name="keywords" content="clay, css, stylesheet, preprocessor, haskell" />
    <meta name='author' content='Sebastiaan Visser' />
    <meta name='description' content='A CSS preprocessor as embedded Haskell' />
    <link href=style-compact.css rel=stylesheet type=text/css>
    <script src=jquery.js></script>
    <script type="text/javascript" account=laszlito src="http://use.typekit.net/wvl3oox.js"></script>
<!-- <script type="text/javascript" account=sebas src="://use.typekit.net/wvl3oox.js"></script> -->
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  </head>

  <body>
    <div id=container>
      <header>
  <div>
    <h1><a href=https://github.com/sebastiaanvisser/clay>Cl<span class=a>a</span><span class=y>y<span></a></h1>
    <h3>Unlimited<sup><a href="#footer">*</a></sup> CSS</h3>
  </div>
  <nav>
    <div>
      <a href="#about">About</a>
      <a href="#features">Features</a>
      <a href="#install">Install</a>
      <a href="#documentation">Documentation</a>
      <a href="#source">Source</a>
    </div>
  </nav>
</header>

      <section id=about name=about>
  <div>
    <div class=two-col>
      <div class=text>
        <h4>About</h4>
        <p><a href=http://sebastiaanvisser.github.com/clay>Clay</a> is a
        CSS preprocessor like <a href=http://lesscss.org>LESS</a> and <a
        href=http://sass-lang.com>Sass</a>, but implemented as an
        embedded domain specific language (EDSL) in Haskell. This means
        that all CSS selectors and style rules are first class Haskell
        functions, which makes reuse and composability easy.</p>
      </div>
      <div class="code haskell">
        <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>
<span class="Keyword">import</span> <span class="ConId">Prelude</span> <span class="Keyword">hiding</span> <span class="Symbol">(</span><span class="VarId">div</span><span class="Symbol">)</span>

<span class="Function">highlight</span> <span class="Symbol">::</span> <span class="ConId">Color</span>
<span class="Function">highlight</span> <span class="Symbol">=</span> <span class="VarId">rgb</span> <span class="Number">255</span> <span class="Number">128</span> <span class="Number">0</span>

<span class="Function">navigation</span> <span class="Symbol">::</span> <span class="ConId">Css</span>
<span class="Function">navigation</span> <span class="Symbol">=</span>
  <span class="Keyword">do</span> <span class="VarId">fontSize</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">24</span><span class="Symbol">)</span>
     <span class="VarId">sym2</span> <span class="VarId">padding</span> <span class="Number">20</span> <span class="Number">0</span>
     <span class="VarId">textTransform</span> <span class="VarId">uppercase</span>

     <span class="VarId">div</span> <span class="Symbol">&lt;?</span> <span class="VarId">centered</span>
     <span class="VarId">a</span> <span class="Symbol">?</span> <span class="Keyword">do</span> <span class="VarId">paddingRight</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">43</span><span class="Symbol">)</span>
            <span class="VarId">color</span> <span class="Symbol">(</span><span class="VarId">highlight</span> <span class="Symbol">-.</span> <span class="Number">40</span><span class="Symbol">)</span>
            <span class="VarId">lastOfType</span> <span class="Symbol">&amp;</span> <span class="VarId">paddingRight</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">0</span><span class="Symbol">)</span>
            <span class="VarId">hover</span>      <span class="Symbol">&amp;</span> <span class="VarId">color</span> <span class="VarId">black</span>

<span class="Function">centered</span> <span class="Symbol">::</span> <span class="ConId">Css</span>
<span class="Function">centered</span> <span class="Symbol">=</span>
  <span class="Keyword">do</span> <span class="VarId">width</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">800</span><span class="Symbol">)</span>
     <span class="VarId">boxSizing</span> <span class="VarId">borderBox</span>
     <span class="VarId">sym2</span> <span class="VarId">margin</span> <span class="Number">0</span> <span class="VarId">auto</span>
</pre>
      </div>
      <br>
    </div>
  </div>
</section>

      <section id=features name=features>
  <div>
    <div class=two-col>
      <div class=text>
        <h4>Features</h4>
        <ul>
          <li>First class selectors and style properties.</li>
          <li>Typed values.</li>
          <li>Nested style rules.</li>
          <li>Access to outer scopes in nested rules.</li>
          <li>Modules, functions, mixins, etc.</li>
          <li>Size and color arithmetics.</li>
          <li>Recognizable syntax, inspired by CSS.</li>
          <li>Easily extensible with new functionality.</li>
          <li>Near-total coverage of all of CSS.</li>
          <li>Easy fall-back for uncovered parts.</li>
          <li>Automatic addition of browser prefixes.</li>
          <li>Both pretty and compact output printers.</li>
        </ul>
      </div>
      <div class=text>
        <h4>Todo</h4>
        <p>Despite the amazing amount of features, Clay is far from finished
        and needs a lot more work. Most missing features, bugs and plans for
        the future are documented in a little <code>todo</code> file in the
        source repository.</p>
        <p class=goto><a href=xxx>» the todo list</a></p>
        <p>The most important point on the list is to move all the items into
        the issue tracker.</p>
        <p class=goto><a href=https://github.com/sebastiaanvisser/clay/issues?direction=desc&sort=created&state=open>» project issue tracker</a></p>
      </div>
      <br>
    </div>
  </div>
</section>

      <section id=install name=install>
  <div class="one-col text">
    <h4>Installation</h4>
    <p>Clay is written in Haskell and requires the Glasgow Haskell
    Compiler (GHC) to get installed. After installing GHC, and the
    acompanying package manager Cabal, you can directly install Clay from
    the Hackage package repository:</p>
  </div>
  <div class="code shell">
    <pre><span class=Symbol>$</span> cabal update
<span class=Symbol>$</span> cabal install clay</pre>
  </div>
  <div class="one-col text">
    <h4>Usage</h4>
    <p>Using Clay requires you to create a Haskell program describing the
    stylesheet and importing the Clay library. As a starting point we can
    create a stylesheet to make the background color of your HTML body
    solid red. Running the <code>main</code> function output the
    generated CSS to the standard output.</p>
  </div>
  <div class="code haskell">
    <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>
<span class="Keyword">import</span> <span class="Keyword">qualified</span> <span class="ConId">Data.Text.Lazy.IO</span> <span class="Keyword">as</span> <span class="ConId">Text</span>

<span class="Function">main</span> <span class="Symbol">::</span> <span class="ConId">IO</span> <span class="Symbol">()</span>
<span class="Function">main</span> <span class="Symbol">=</span> <span class="ConId">Text.</span><span class="VarId">putStr</span> <span class="Symbol">(</span><span class="VarId">render</span> <span class="VarId">myStylesheet</span><span class="Symbol">)</span>

<span class="Function">myStylesheet</span> <span class="Symbol">::</span> <span class="ConId">Css</span>
<span class="Function">myStylesheet</span> <span class="Symbol">=</span> <span class="VarId">body</span> <span class="Symbol">?</span> <span class="VarId">background</span> <span class="VarId">red</span>
</pre>
  </div>
</section>

      <section id=documentation name=documentation>
  <div class="text one-col">
    <h4>API documentation</h4>
    The Clay API documentation can be found on Hackage. For most uses only the
    <code>Clay</code> top level module is of any relevance. It re-exports all
    the code that is needed to write your stylesheet.</p>
    <p class=goto><a href=http://hackage.haskell.org/packages/archive/clay/latest/doc/html/Clay.html>» API documentation</a></p>
  </div>
</section>

      <section id=tutorial name=tutorial>
  <div class="text one-col">
    <h4>Tutorial</h4>
    <p>Clay is an EDSL that uses a writer monad to collect style rules. Rules
    are combinations of CSS selectors associated style properties. Multiple
    style rules can be composed and nested to form a stylehseet. Stylesheets
    can be rendered to plain old CSS and served to your browser.</p>
  </div>

  <div class="text one-col">
    <p>There are several methods of assigning style properties to selectors.
    The most important one is the <code>?</code> operator:</p>
  </div>
  <div class="code haskell">
    <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">body</span> <span class="Symbol">?</span>
    <span class="Keyword">do</span> <span class="VarId">background</span>  <span class="VarId">black</span>
       <span class="VarId">color</span>       <span class="VarId">green</span>
       <span class="VarId">border</span>      <span class="VarId">dashed</span> <span class="Symbol">(</span><span class="VarId">px</span> <span class="Number">2</span><span class="Symbol">)</span> <span class="VarId">yellow</span>
</pre>
  </div>
  <div class="code css">
    <pre class="sourceCode">body
<span class="CBracket">{</span>
  <span class="Property">background</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
  <span class="Property">color</span>      <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">128</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
  <span class="Property">border</span>     <span class="Symbol">:</span> dashed <span class="Number">2</span>px rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
</pre>
  </div>

  <div class="text one-col">
    <p>Style rules can be easily be composed and nested by just adding more
    rules using the monad syntax:</p>
  </div>
  <div class="code haskell">
    <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="Keyword">do</span> <span class="VarId">p</span> <span class="Symbol">?</span> <span class="VarId">color</span> <span class="VarId">red</span>
     <span class="VarId">b</span> <span class="Symbol">?</span> <span class="VarId">color</span> <span class="VarId">yellow</span>
     <span class="VarId">article</span> <span class="Symbol">?</span>
       <span class="Keyword">do</span> <span class="VarId">strong</span> <span class="Symbol">?</span> <span class="VarId">background</span> <span class="VarId">black</span>
          <span class="VarId">abbr</span>  <span class="Symbol">&lt;?</span> <span class="VarId">fontVariant</span> <span class="VarId">smallCaps</span>
</pre>
  </div>
  <div class="code css">
    <pre class="sourceCode">p
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
b
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> strong
<span class="CBracket">{</span>
  <span class="Property">background</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
<span class="String">article</span> <span class="Symbol">&gt;</span> abbr
<span class="CBracket">{</span>
  <span class="Property">font-variant</span> <span class="Symbol">:</span> small<span class="Symbol">-</span>caps<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
  </div>

  <div class="text one-col">
    <p>Basic selectors can be composed with several combinators to construct
    more complicated selectors:</p>
  </div>
  <div class="code haskell">
    <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Data.Monoid</span>
<span class="Keyword">import</span> <span class="ConId">Prelude</span> <span class="Keyword">hiding</span> <span class="Symbol">((**))</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="Symbol">(</span><span class="VarId">body</span> <span class="Symbol">&lt;&gt;</span> <span class="VarId">article</span><span class="Symbol">)</span> <span class="Symbol">**</span> <span class="VarId">p</span> <span class="Symbol">|&gt;</span> <span class="Symbol">(</span><span class="VarId">a</span> <span class="Symbol">&lt;&gt;</span> <span class="VarId">b</span><span class="Symbol">)</span> <span class="Symbol">#</span> <span class="VarId">lastOfType</span> <span class="Symbol">?</span>
      <span class="VarId">color</span> <span class="VarId">red</span>
</pre>
  </div>
  <div class="code css">
    <pre class="sourceCode"><span class="String">body</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">a</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span><span class="String">type</span><span class="Symbol">,</span>
<span class="String">body</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">b</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span><span class="String">type</span><span class="Symbol">,</span>
<span class="String">article</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">a</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span><span class="String">type</span><span class="Symbol">,</span>
<span class="String">article</span> <span class="String">p</span> <span class="Symbol">&gt;</span> <span class="String">b</span><span class="Symbol">:</span><span class="String">last</span><span class="Symbol">-</span><span class="String">of</span><span class="Symbol">-</span>type
<span class="CBracket">{</span>
  <span class="Property">color</span> <span class="Symbol">:</span> rgb<span class="Symbol">(</span><span class="Number">255</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">,</span><span class="Number">0</span><span class="Symbol">);</span>
<span class="CBracket">}</span>
</pre>
  </div>

  <div class="text one-col">
    <p>Using <code>OverloadedStrings</code> allows us to create selectors for
    classes, ids, pseudo classes, attributes etc:</p>
  </div>
  <div class="code haskell">
    <pre class="sourceCode"><span class="Comment">{-# LANGUAGE OverloadedStrings #-}</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">section</span> <span class="Symbol">#</span> <span class="String">&quot;#open&quot;</span> <span class="Symbol">|&gt;</span> <span class="String">&quot;.link&quot;</span> <span class="Symbol">?</span>
    <span class="Keyword">do</span> <span class="VarId">textDecoration</span> <span class="VarId">none</span>
       <span class="String">&quot;@href&quot;</span> <span class="Symbol">&amp;</span>
         <span class="Keyword">do</span> <span class="VarId">textDecoration</span> <span class="VarId">underline</span>
            <span class="String">&quot;:hover&quot;</span> <span class="Symbol">&amp;</span> <span class="VarId">fontWeight</span> <span class="VarId">bold</span>
</pre>
  </div>
  <div class="code css">
    <pre class="sourceCode"><span class="String">section</span><span class="Selector">#open</span> <span class="Symbol">&gt;</span> <span class="Symbol">*</span><span class="Selector">.link</span>
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> none<span class="Symbol">;</span>
<span class="CBracket">}</span>
<span class="String">section</span><span class="Selector">#open</span> <span class="Symbol">&gt;</span> <span class="Symbol">*</span><span class="Selector">.link</span><span class="Symbol">[</span><span class="String">href</span><span class="Symbol">]</span>
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> underline<span class="Symbol">;</span>
<span class="CBracket">}</span>
<span class="String">section</span><span class="Selector">#open</span> <span class="Symbol">&gt;</span> <span class="Symbol">*</span><span class="Selector">.link</span><span class="Symbol">[</span><span class="String">href</span><span class="Symbol">]:</span>hover
<span class="CBracket">{</span>
  <span class="Property">font-weight</span> <span class="Symbol">:</span> bold<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
  </div>

  <div class="text one-col">
    <p>Or we can use some build in functions to avoid to much string
    literals:</p>
  </div>
  <div class="code haskell">
    <pre class="sourceCode"><span class="Keyword">import</span> <span class="ConId">Data.Monoid</span>
<span class="Keyword">import</span> <span class="ConId">Clay</span>

<span class="Function">main</span> <span class="Symbol">=</span> <span class="VarId">putCss</span> <span class="Symbol">$</span>
  <span class="VarId">a</span> <span class="Symbol">#</span> <span class="VarId">href</span> <span class="Symbol">#</span> <span class="VarId">hover</span> <span class="Symbol">?</span> <span class="VarId">textDecoration</span> <span class="VarId">none</span>
</pre>
  </div>
  <div class="code css">
    <pre class="sourceCode"><span class="String">a</span><span class="Symbol">[</span><span class="String">href</span><span class="Symbol">]:</span>hover
<span class="CBracket">{</span>
  <span class="Property">text-decoration</span> <span class="Symbol">:</span> none<span class="Symbol">;</span>
<span class="CBracket">}</span>
</pre>
  </div>

</section>

      <section id=source name=source>
  <div class="two-col text">
    <div>
      <h4>Project source</h4>
      <p>Clay is open source and hosted on GitHub. Every form of
      feedback, pull requests or other participation is more than
      welcome. CSS is a big standard containing lots of official and
      probably even more experimental style properties. Clay's support
      for all those properties is most likely incomplete. Adding new
      properties is easy so let me know if things should be added.</p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay>» project source repository</a></p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay/issues?direction=desc&sort=created&state=open>» project issue tracker</a></p>
    </div>
    <div>
      <h4>Website source</h4>
      <p>Of course, the style sheet of this website is also implemented
      in Clay. You can find the sources in the project source
      repository on GitHub. Feel free to use this page as template for
      your own projects.</p>
      <p class=goto><a href=https://github.com/sebastiaanvisser/clay/tree/gh-pages>» website source repository</a></p>
      <p class=goto><a href=src/Style.hs>» stylesheet source in Clay</a></p>
      <p class=goto><a href=style-pretty.css>» generated stylesheet</a></p>
    </div>
    <br>
  </div>
</section>

      <section id=haskell name=haskell>
  <div>
    <p>Haskell logo here!</p>
  </div>
</section>

      <footer>
  <div name=footer><sup>*</sup>Within reasonable limits only!</div>
</footer>

    </div>
  </body>

  <script src=code.js></script>

</html>
<!-- site generated at Fri Dec 21 23:39:33 CET 2012 -->
